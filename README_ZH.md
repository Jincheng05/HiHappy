# HiHappy: å®ç°å¿ƒç†å’¨è¯¢ä¸­çš„å…±é¢‘èƒ½åŠ›

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![PyTorch](https://img.shields.io/badge/PyTorch-2.0+-ee4c2c.svg)](https://pytorch.org/)
[![Transformers](https://img.shields.io/badge/ğŸ¤—%20Transformers-4.35+-yellow.svg)](https://huggingface.co/transformers/)
[![DeepSpeed](https://img.shields.io/badge/DeepSpeed-0.12+-orange.svg)](https://www.deepspeed.ai/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

**Choose your language**

[![ä¸­æ–‡æ–‡æ¡£](https://img.shields.io/badge/æ–‡æ¡£-ä¸­æ–‡ç‰ˆ-red?style=flat-square&logo=readme&logoColor=white)](README_ZH.md)
&nbsp;&nbsp;&nbsp;&nbsp;
[![English Docs](https://img.shields.io/badge/docs-English-blue?style=flat-square&logo=readme&logoColor=white)](README.md)

*åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿ - å®ç°æƒ…ç»ªåŒé¢‘ã€æ ¹æºæŒ–æ˜*

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

### èƒŒæ™¯ä¸åŠ¨æœº

å¿ƒç†å’¨è¯¢çš„æ ¸å¿ƒåœ¨äºå»ºç«‹æœ‰æ•ˆçš„å’¨è®¿å…³ç³»ï¼Œè€Œ**å…±é¢‘èƒ½åŠ›**æ˜¯å®ç°è¿™ä¸€ç›®æ ‡çš„å…³é”®ã€‚ä¼ ç»Ÿçš„å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿå¾€å¾€å¿½è§†äº†å’¨è¯¢å¸ˆä¸æ¥è®¿è€…ä¹‹é—´çš„æƒ…ç»ªåŒæ­¥ã€æ²Ÿé€šèŠ‚å¥åŒ¹é…å’Œéšæ€§éœ€æ±‚ç†è§£ï¼Œå¯¼è‡´å¯¹è¯è´¨é‡ä¸ä½³ã€‚

<!-- 
ğŸ“¸ å›¾ç‰‡ä½ç½®1ï¼šé¡¹ç›®æ¦‚è§ˆå›¾
æ–‡ä»¶åï¼šassets/overview.png
è¯´æ˜ï¼šå±•ç¤ºHiHappyç³»ç»Ÿçš„æ•´ä½“æ¶æ„å’Œæ ¸å¿ƒåŠŸèƒ½
å»ºè®®å°ºå¯¸ï¼š1200x600px
-->
<div align="center">
  <img src="assets/overview.png" alt="HiHappyç³»ç»Ÿæ¦‚è§ˆ" width="800"/>
  <p><i>å›¾1: HiHappyå¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿæ•´ä½“æ¶æ„</i></p>
</div>

æœ¬é¡¹ç›®å®ç°äº†è®ºæ–‡ã€ŠHiHappy: Achieving Co-frequency Alignment and Positive Emotional Shift in Psychological Counseling LLMsã€‹ä¸­æå‡ºçš„åˆ›æ–°æ–¹æ³•ï¼Œé€šè¿‡ä»¥ä¸‹æŠ€æœ¯çªç ´è§£å†³äº†è¿™äº›é—®é¢˜ï¼š

1. **å¤šç»´åº¦è¯„ä¼°ä½“ç³»**ï¼šå»ºç«‹äº†åŒ…å«8ä¸ªæ ¸å¿ƒç»´åº¦çš„å¿ƒç†å’¨è¯¢å¯¹è¯è¯„ä¼°æ¡†æ¶
2. **å››LLMååŒç”Ÿæˆ**ï¼šåˆ›æ–°æ€§åœ°ä½¿ç”¨å’¨è¯¢å¸ˆã€æ¥è®¿è€…ã€æ€»ç»“å¸ˆã€è¯„ä¼°å¸ˆå››ä¸ªæ¨¡å‹ååŒç”Ÿæˆé«˜è´¨é‡è®­ç»ƒæ•°æ®
3. **åŠ¨æ€ç­–ç•¥è°ƒæ•´**ï¼šåŸºäºå®æ—¶æƒ…ç»ªåˆ†æåŠ¨æ€è°ƒæ•´å’¨è¯¢ç­–ç•¥å’ŒèŠ‚å¥
4. **ä¸“ä¸šæŠ€æœ¯èåˆ**ï¼šæ•´åˆREBTã€CBTã€äººæœ¬ä¸»ä¹‰ç­‰å¤šç§å¿ƒç†å’¨è¯¢æŠ€æœ¯

### æ ¸å¿ƒèƒ½åŠ›

æœ¬ç³»ç»Ÿé€šè¿‡å¾®è°ƒå¤§è¯­è¨€æ¨¡å‹ï¼ˆQwen3-8Bï¼‰ï¼Œå®ç°äº†ä»¥ä¸‹å¿ƒç†å’¨è¯¢æ ¸å¿ƒèƒ½åŠ›ï¼š

| èƒ½åŠ›ç»´åº¦ | å…·ä½“è¡¨ç° | æŠ€æœ¯å®ç° |
|---------|---------|---------|
| **å…±é¢‘èƒ½åŠ›** | ç²¾å‡†æ•æ‰æ¥è®¿è€…æƒ…ç»ªçŠ¶æ€ã€åŒ¹é…æ²Ÿé€šèŠ‚å¥ã€å°Šé‡è¾¹ç•Œéœ€æ±‚ã€ç†è§£éšæ€§éœ€æ±‚ | å››ç»´åº¦è¯„ä¼°ï¼ˆæƒ…ç»ªæ•æ‰40% + æ²Ÿé€šèŠ‚å¥30% + è¾¹ç•Œå°Šé‡20% + éšæ€§éœ€æ±‚10%ï¼‰ |
| **å…³ç³»å»ºç«‹** | æ„å»ºå®‰å…¨ã€ä¿¡ä»»ã€åä½œã€ç¨³å®šçš„å’¨è®¿å…³ç³» | ä¿¡ä»»æ„å»ºã€æ¥çº³å®‰å…¨æ„Ÿã€äº’åŠ¨é€‚é…ã€çœŸè¯šåº¦è¯„ä¼° |
| **å¯¹è¯ç­–ç•¥** | é‡‡ç”¨é€‚é…çš„å¿ƒç†å’¨è¯¢æŠ€æœ¯ï¼ˆREBTã€CBTã€äººæœ¬ä¸»ä¹‰ã€SFBTã€EFTç­‰ï¼‰ | ç­–ç•¥é€‚é…æ€§ã€æœ‰æ•ˆæ€§ã€çµæ´»æ€§ã€ä¼¦ç†åˆè§„æ€§ |
| **æƒ…æ„Ÿå…±æƒ…** | æ„Ÿå—å¹¶å›åº”æ¥è®¿è€…çš„æƒ…ç»ªä½“éªŒ | æƒ…æ„Ÿè§‰å¯Ÿã€å›åº”é€‚é…ã€å…±é¸£æ·±åº¦ã€æ— ä¾µå…¥æ€§ |
| **æƒ…ç»ªæ”¹å–„** | æœ‰æ•ˆç¼“è§£æ¥è®¿è€…çš„æ¶ˆææƒ…ç»ªï¼Œæå‡ç§¯ææƒ…ç»ª | æƒ…ç»ªå˜åŒ–è¶‹åŠ¿ã€æ”¹å–„å¹…åº¦ã€ç¨³å®šæ€§è¯„ä¼° |
| **è®¤çŸ¥å…±æƒ…** | ç†è§£æ¥è®¿è€…çš„æƒ³æ³•ã€è§‚ç‚¹å’Œè®¤çŸ¥æ¨¡å¼ | è§‚ç‚¹ç†è§£ã€è®¤çŸ¥é‡æ„ã€å¼•å¯¼æ•ˆæœ |
| **çŠ¶æ€æ€åº¦** | ä¿æŒä¸“ä¸šã€ç¨³å®šã€ç§¯æçš„å’¨è¯¢çŠ¶æ€ | ä¸“ä¸šæ€§ã€ç¨³å®šæ€§ã€ç§¯ææ€§è¯„ä¼° |

### 2. é«˜è´¨é‡æ•°æ®ç”Ÿæˆæœºåˆ¶

#### 2.1 å››LLMååŒç”Ÿæˆæ¶æ„

<!-- 
ğŸ“¸ å›¾ç‰‡ä½ç½®3ï¼šä¸‰LLMååŒæ¶æ„å›¾
æ–‡ä»¶åï¼šassets/three-llm-architecture.png
è¯´æ˜ï¼šå±•ç¤ºå’¨è¯¢å¸ˆã€æ¥è®¿è€…ã€æ€»ç»“å¸ˆã€åˆ¤æ–­å¸ˆå››ä¸ªæ¨¡å‹çš„ååŒå·¥ä½œæµç¨‹
å»ºè®®å°ºå¯¸ï¼š800x1000pxï¼ˆç«–å‘ï¼‰
æç¤ºï¼šå¯ä»¥ä»è®ºæ–‡ä¸­æå–ç›¸å…³æ¶æ„å›¾ï¼Œæˆ–ä½¿ç”¨draw.ioé‡æ–°ç»˜åˆ¶
-->
<div align="center">
  <img src="assets/Multi-agent-architecture.png" alt="ä¸‰LLMååŒæ¶æ„" width="800"/>
  <p><i>å›¾3: å››LLMååŒç”Ÿæˆæ¶æ„ - å’¨è¯¢å¸ˆã€æ¥è®¿è€…ã€æ€»ç»“å¸ˆã€è¯„ä¼°å¸ˆå››æ¨¡å‹ååŒå·¥ä½œ</i></p>
</div>

æ€»ç»“å¸ˆæ¨¡å‹ä¼šåˆ†ææ¥è®¿è€…çš„æƒ…ç»ªçŠ¶æ€ï¼Œè¾“å‡ºä¸ƒç»´æƒ…ç»ªå‘é‡ï¼š

```python
æƒ…ç»ªå‘é‡ = [
    å¼€å¿ƒ: 0.15,        # ç§¯ææƒ…ç»ª
    å¹³é™: 0.70,        # ç§¯ææƒ…ç»ª
    ç„¦è™‘: 0.30,        # æ¶ˆææƒ…ç»ª
    æ‚²ä¼¤: 0.10,        # æ¶ˆææƒ…ç»ª
    æ„¤æ€’: 0.05,        # æ¶ˆææƒ…ç»ª
    å†…ç–š/ç¾è€»: 0.10,   # æ¶ˆææƒ…ç»ª
    æ— åŠ©/ç»æœ›: 0.05    # æ¶ˆææƒ…ç»ª
]
```

**æƒ…ç»ªæˆå› åˆ†æ**ï¼š
- **ç§¯ææƒ…ç»ªäº§ç”ŸåŸå› **ï¼šå› å’¨è¯¢å¸ˆå…±æƒ…å¼å›åº”è®¤å¯äº†å…¶ç…§é¡¾å®¶äººçš„ä»˜å‡ºï¼Œæ„Ÿå—åˆ°è¢«ç†è§£ï¼Œå¹³é™æ„Ÿæœ‰æ‰€æå‡
- **æ¶ˆææƒ…ç»ªäº§ç”ŸåŸå› **ï¼šå› é•¿æœŸç…§é¡¾æ‚£ç—…å®¶äººå¯¼è‡´ç¡çœ ä¸è¶³ï¼Œä¸”æ‹…å¿ƒè‡ªèº«å¥åº·çŠ¶å†µï¼Œäº§ç”ŸæŒç»­çš„ç„¦è™‘å’Œè½»å¾®æ— åŠ©æ„Ÿ


### 3. æ¨¡å‹è®­ç»ƒä¼˜åŒ–

#### 3.1 LoRAé«˜æ•ˆå¾®è°ƒ

**LoRAé…ç½®è¯¦è§£**ï¼š

```python
config = LoraConfig(
    task_type=TaskType.CAUSAL_LM,  
    target_modules=[
        "q_proj",      # QueryæŠ•å½±å±‚
        "k_proj",      # KeyæŠ•å½±å±‚
        "v_proj",      # ValueæŠ•å½±å±‚
        "o_proj",      # OutputæŠ•å½±å±‚
        "gate_proj",   # FFNé—¨æ§å±‚
        "up_proj",     # FFNä¸ŠæŠ•å½±å±‚
        "down_proj"    # FFNä¸‹æŠ•å½±å±‚
    ],
    
    inference_mode=False,  # è®­ç»ƒæ¨¡å¼
    r=16,                  # LoRAç§©ï¼ˆrankï¼‰
    lora_alpha=32,        # LoRAç¼©æ”¾å› å­
    lora_dropout=0.05,    # Dropoutæ¯”ä¾‹
)
```


#### 3.2 DeepSpeedåˆ†å¸ƒå¼è®­ç»ƒ

**ZeRO-2ä¼˜åŒ–ç­–ç•¥**ï¼š

```json
{
  "zero_optimization": {
    "stage": 2,
    "offload_optimizer": {
      "device": "cpu",
      "pin_memory": true
    },
    "offload_param": {
      "device": "cpu",
      "pin_memory": true
    },
    "allgather_partitions": true,
    "allgather_bucket_size": 2e8,
    "overlap_comm": true,
    "reduce_scatter": true,
    "reduce_bucket_size": 2e8,
    "contiguous_gradients": true
  },
  "gradient_accumulation_steps": 8,
  "gradient_clipping": 1.0,
  "train_batch_size": "auto",
  "train_micro_batch_size_per_gpu": "auto",
  "wall_clock_breakdown": false
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

#### è½¯ä»¶è¦æ±‚

```bash
æ“ä½œç³»ç»Ÿ: Linux (Ubuntu 20.04+æ¨è)
Python: 3.8 - 3.11
CUDA: 11.8 æˆ– 12.1
cuDNN: 8.6+
```

### ç¯å¢ƒå®‰è£…

#### æ–¹æ³•1ï¼šä½¿ç”¨Condaï¼ˆæ¨èï¼‰

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
conda create -n hihappy python=3.10
conda activate hihappy

# 2. å®‰è£…PyTorchï¼ˆæ ¹æ®CUDAç‰ˆæœ¬é€‰æ‹©ï¼‰
# CUDA 11.8
conda install pytorch==2.1.0 torchvision==0.16.0 torchaudio==2.1.0 pytorch-cuda=11.8 -c pytorch -c nvidia

# 3. å…‹éš†ä»“åº“
git clone https://github.com/yourusername/HiHappy.git
cd HiHappy

# 4. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 5. å®‰è£…DeepSpeed
pip install deepspeed

# 6. éªŒè¯å®‰è£…
python -c "import torch; print(f'PyTorch: {torch.__version__}'); print(f'CUDA Available: {torch.cuda.is_available()}')"
```

## ğŸ”§ æ¨¡å‹è®­ç»ƒ

### æ–¹æ³•1ï¼šä½¿ç”¨æä¾›çš„è®­ç»ƒè„šæœ¬

```bash
# å•å¡è®­ç»ƒ
python train_Q3-8b.py

# å¤šå¡è®­ç»ƒï¼ˆä½¿ç”¨DeepSpeedï¼‰
CUDA_VISIBLE_DEVICES=0,1,2,3 deepspeed --num_gpus=4 train_Q3-8b-Emo+four_data.py
```

**è®­ç»ƒé…ç½®è¯´æ˜**ï¼š

ç¼–è¾‘ `train_Q3-8b.py` ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```python
# æ¨¡å‹è·¯å¾„
model_name = "/path/to/Qwen3-8B-Instruct"

# æ•°æ®é›†è·¯å¾„
data_files = [
    "/path/to/train_data.json",
]

# è¾“å‡ºè·¯å¾„
output_dir = "/path/to/output/lora_model"

# GPUé…ç½®
os.environ["CUDA_VISIBLE_DEVICES"] = "0,1,2,3"
```

### æ–¹æ³•2ï¼šä½¿ç”¨LLaMA-Factoryè®­ç»ƒï¼ˆæ¨èï¼‰

æœ¬é¡¹ç›®æä¾›äº†å®Œæ•´çš„ LLaMA-Factory é…ç½®æ–‡ä»¶ `training_args.yaml`ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ LLaMA-Factory è¿›è¡Œè®­ç»ƒã€‚

#### å®‰è£…LLaMA-Factory

```bash
git clone https://github.com/hiyouga/LLaMA-Factory.git
cd LLaMA-Factory
pip install -e .
```

#### é…ç½®æ•°æ®é›†

åœ¨ `LLaMA-Factory/data/dataset_info.json` ä¸­æ·»åŠ ä½ çš„æ•°æ®é›†ï¼š

```json
{
  "my_counseling_data": {
    "file_name": "/path/to/your/train_data.json",
    "formatting": "sharegpt",
    "columns": {
      "messages": "messages"
    }
  }
}
```

#### ä½¿ç”¨é…ç½®æ–‡ä»¶è®­ç»ƒ

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°LLaMA-Factoryç›®å½•
cp training_args.yaml LLaMA-Factory/

# å¯åŠ¨è®­ç»ƒ
cd LLaMA-Factory
llamafactory-cli train training_args.yaml
```

**é…ç½®æ–‡ä»¶è¯´æ˜** (`training_args.yaml`)ï¼š

```yaml
# æ¨¡å‹é…ç½®
model_name_or_path: /path/to/Qwen3-8B-Instruct
output_dir: saves/Qwen3-8B-Instruct/lora/train

# è®­ç»ƒå‚æ•°
per_device_train_batch_size: 1
gradient_accumulation_steps: 8
learning_rate: 5.0e-05
num_train_epochs: 2.0

# LoRAé…ç½®
finetuning_type: lora
lora_rank: 8
lora_alpha: 16
lora_target: all

# DeepSpeedé…ç½®
deepspeed: ds_z2_offload_config.json

# æ•°æ®é›†é…ç½®
dataset: my_counseling_data
dataset_dir: data
cutoff_len: 8192
```

### è®­ç»ƒç›‘æ§

è®­ç»ƒè¿‡ç¨‹ä¼šè‡ªåŠ¨è®°å½•åˆ° SwanLabï¼Œè®¿é—® https://swanlab.cn æŸ¥çœ‹ï¼š
- Lossæ›²çº¿
- å­¦ä¹ ç‡å˜åŒ–
- GPUåˆ©ç”¨ç‡
- è®­ç»ƒé€Ÿåº¦

## ğŸ“Š æ¨¡å‹è¯„ä¼°

è®­ç»ƒå®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨é¡¹ç›®æä¾›çš„è¯„ä¼°è„šæœ¬å¯¹æ¨¡å‹è¿›è¡Œå…¨é¢è¯„ä¼°ã€‚

### è¯„ä¼°ç»´åº¦

æœ¬é¡¹ç›®æä¾›7ä¸ªæ ¸å¿ƒç»´åº¦çš„è¯„ä¼°è„šæœ¬ï¼š

| è¯„ä¼°ç»´åº¦ | è„šæœ¬æ–‡ä»¶ | è¯´æ˜ |
|---------|---------|------|
| å…±é¢‘èƒ½åŠ› | `model_evaluation/cofrequency_evaluation.py` | è¯„ä¼°æƒ…ç»ªæ•æ‰ã€æ²Ÿé€šèŠ‚å¥ã€è¾¹ç•Œå°Šé‡ã€éšæ€§éœ€æ±‚ç†è§£ |
| å…³ç³»å»ºç«‹ | `model_evaluation/relationship_evaluation.py` | è¯„ä¼°ä¿¡ä»»æ„å»ºã€å®‰å…¨æ„Ÿè¥é€ ã€æ¥çº³è¡¨è¾¾ |
| å¯¹è¯ç­–ç•¥ | `model_evaluation/strategy_evaluation.py` | è¯„ä¼°REBTã€CBTç­‰å¿ƒç†å’¨è¯¢æŠ€æœ¯çš„åº”ç”¨ |
| æƒ…æ„Ÿå…±æƒ… | `model_evaluation/emotional_empathy_evaluation.py` | è¯„ä¼°æƒ…æ„Ÿè§‰å¯Ÿã€å›åº”é€‚é…ã€å…±é¸£æ·±åº¦ |
| æƒ…ç»ªæ”¹å–„ | `model_evaluation/emotion_improvement_evaluation.py` | è¯„ä¼°æƒ…ç»ªå˜åŒ–è¶‹åŠ¿ã€æ”¹å–„å¹…åº¦ã€ç¨³å®šæ€§ |
| è®¤çŸ¥å…±æƒ… | `model_evaluation/cognitive_empathy_evaluation.py` | è¯„ä¼°è§‚ç‚¹ç†è§£ã€è®¤çŸ¥é‡æ„ã€å¼•å¯¼æ•ˆæœ |
| çŠ¶æ€æ€åº¦ | `model_evaluation/state_attitude_evaluation.py` | è¯„ä¼°ä¸“ä¸šæ€§ã€ç¨³å®šæ€§ã€ç§¯ææ€§ |

### è¿è¡Œè¯„ä¼°

#### 1. å¯åŠ¨æ¨¡å‹æ¨ç†æœåŠ¡

é¦–å…ˆéœ€è¦å¯åŠ¨vLLMæ¨ç†æœåŠ¡ï¼š

```bash
# å¯åŠ¨vLLMæœåŠ¡ï¼ˆä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼‰
python -m vllm.serve.openai \
    --model /path/to/your/finetuned/model \
    --port 6006 \
    --gpu-memory-utilization 0.9
```

#### 2. è¿è¡Œå•ä¸ªç»´åº¦è¯„ä¼°

```bash
# è¯„ä¼°å…±é¢‘èƒ½åŠ›
python model_evaluation/cofrequency_evaluation.py

# è¯„ä¼°æƒ…æ„Ÿå…±æƒ…
python model_evaluation/emotional_empathy_evaluation.py

# è¯„ä¼°å…¶ä»–ç»´åº¦...
```

#### 3. æ‰¹é‡è¯„ä¼°æ‰€æœ‰ç»´åº¦

```bash
# ä¾æ¬¡è¿è¡Œæ‰€æœ‰è¯„ä¼°è„šæœ¬
for script in model_evaluation/*_evaluation.py; do
    python "$script"
done
```

#### 4. è®¡ç®—ç»¼åˆå¾—åˆ†

```bash
# è®¡ç®—æ‰€æœ‰ç»´åº¦çš„å¹³å‡åˆ†æ•°
python model_evaluation/calculate_average_score.py
```

### è¯„ä¼°é…ç½®

åœ¨è¿è¡Œè¯„ä¼°å‰ï¼Œéœ€è¦ä¿®æ”¹å„è¯„ä¼°è„šæœ¬ä¸­çš„é…ç½®é¡¹ï¼š

```python
# é…ç½®é¡¹ç¤ºä¾‹
VLLM_BASE_URL = "http://localhost:6006/v1"  # vLLMæœåŠ¡åœ°å€
VLLM_MODEL_NAME = "/path/to/your/model"     # æ¨¡å‹è·¯å¾„
DATASET_PATH = "/path/to/test_data.json"    # æµ‹è¯•æ•°æ®é›†è·¯å¾„
OUTPUT_PATH = "/path/to/output/results.json" # ç»“æœè¾“å‡ºè·¯å¾„
MAX_CONCURRENCY = 10                         # æœ€å¤§å¹¶å‘æ•°
```

### æ•°æ®é›†è¯„ä¼°

å¦‚æœéœ€è¦è¯„ä¼°è®­ç»ƒæ•°æ®é›†çš„è´¨é‡ï¼Œå¯ä»¥ä½¿ç”¨ `dataset_evaluation/` æ–‡ä»¶å¤¹ä¸­çš„è„šæœ¬ï¼š

```bash
# è¯„ä¼°æ•°æ®é›†çš„å…±é¢‘èƒ½åŠ›æ ‡æ³¨è´¨é‡
python dataset_evaluation/cofrequency_evaluation.py

# è¯„ä¼°å…¶ä»–ç»´åº¦...
```

### è¯„ä¼°ç»“æœ

è¯„ä¼°å®Œæˆåï¼Œä¼šç”ŸæˆJSONæ ¼å¼çš„ç»“æœæ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- æ¯ä¸ªæ ·æœ¬çš„è¯¦ç»†å¾—åˆ†ï¼ˆ0-3åˆ†ï¼‰
- è¯„ä¼°åˆ†æè¯´æ˜
- å¹³å‡å¾—åˆ†ç»Ÿè®¡
- æˆåŠŸç‡ç»Ÿè®¡

ç¤ºä¾‹è¾“å‡ºï¼š
```json
[
  {
    "æ ·æœ¬ID": "sample_001",
    "å¯¹è¯ID": "dialog_001",
    "è½®æ¬¡å·": 1,
    "å…±é¢‘èƒ½åŠ›å¾—åˆ†": 3,
    "åˆ†æ": "æ¨¡å‹ç²¾å‡†æ•æ‰äº†æ¥è®¿è€…çš„ç„¦è™‘æƒ…ç»ª..."
  }
]
```

## ğŸ“ è®ºæ–‡

å¦‚æœä½ ä½¿ç”¨äº†æœ¬é¡¹ç›®çš„ä»£ç æˆ–æ–¹æ³•ï¼Œè¯·å¼•ç”¨æˆ‘ä»¬çš„è®ºæ–‡ï¼š

```bibtex
@article{hihappy2024,
  title={HiHappy: Achieving Co-frequency in Psychological Counseling},
  author={Your Name},
  journal={arXiv preprint arXiv:XXXX.XXXXX},
  year={2024}
}
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶


## ğŸ“š å‚è€ƒèµ„æ–™

### è®ºæ–‡

- [HiHappy: Achieving Co-frequency in Psychological Counseling](984_HiHappy_Achieving_Co_frequ%20(3).pdf)

### ç›¸å…³å·¥ä½œ

- **å¿ƒç†å’¨è¯¢ç†è®º**ï¼š
  - Ellis, A. (1962). Reason and emotion in psychotherapy. (REBTç†è®º)
  - Beck, A. T. (1979). Cognitive therapy and the emotional disorders. (CBTç†è®º)
  - Rogers, C. R. (1951). Client-centered therapy. (äººæœ¬ä¸»ä¹‰ç†è®º)

- **å¤§è¯­è¨€æ¨¡å‹**ï¼š
  - Qwen Team. (2024). Qwen2.5 Technical Report.
  - Hu, E. J., et al. (2021). LoRA: Low-Rank Adaptation of Large Language Models.

- **å¿ƒç†å’¨è¯¢å¯¹è¯ç³»ç»Ÿ**ï¼š
  - Liu, Z., et al. (2021). Towards Empathetic Open-domain Conversation Models.
  - Sharma, A., et al. (2020). A Computational Approach to Understanding Empathy.


## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

```
MIT License

Copyright (c) 2024 HiHappy Team

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```


## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

![GitHub stars](https://img.shields.io/github/stars/yourusername/HiHappy?style=social)
![GitHub forks](https://img.shields.io/github/forks/yourusername/HiHappy?style=social)
![GitHub watchers](https://img.shields.io/github/watchers/yourusername/HiHappy?style=social)
![GitHub contributors](https://img.shields.io/github/contributors/yourusername/HiHappy)
![GitHub last commit](https://img.shields.io/github/last-commit/yourusername/HiHappy)
![GitHub issues](https://img.shields.io/github/issues/yourusername/HiHappy)
![GitHub pull requests](https://img.shields.io/github/issues-pr/yourusername/HiHappy)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼â­**

**è®©AIæ›´æ‡‚äººå¿ƒï¼Œè®©å¿ƒç†å’¨è¯¢æ›´æœ‰æ¸©åº¦**

Made with â¤ï¸ by HiHappy Team

[è¿”å›é¡¶éƒ¨](#hihappy-å®ç°å¿ƒç†å’¨è¯¢ä¸­çš„å…±é¢‘èƒ½åŠ›)

</div>
